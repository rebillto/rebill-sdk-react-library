import{jsx as e}from"react/jsx-runtime";import{createContext as r,useState as s,useEffect as t,useContext as n}from"react";import*as i from"rebill";const o=r(void 0),a=({children:r,apiKey:n,rebillId:a})=>{const[d,l]=s({}),[c,u]=s({}),[m,p]=s(null);t((()=>{if(!n)return void console.error("Rebill API key is not provided");const e=new i.setSdk(n);p(e)}),[n]),t((()=>{m&&m.setElements(a)}),[m]),t((()=>{m&&function(e){if(!("firstName"in e&&"lastName"in e&&"email"in e&&"phone"in e&&"personalId"in e&&"address"in e))return!1;const r="countryCode"in e.phone&&"areaCode"in e.phone&&"phoneNumber"in e.phone,s="type"in e.personalId&&"value"in e.personalId,t="state"in e.address&&"city"in e.address&&"street"in e.address&&"number"in e.address&&"country"in e.address&&"zipCode"in e.address;return r&&s&&t}(d)&&m.setCustomer(d)}),[d]),t((()=>{m&&c&&m.setMetadata(c)}),[c]);const C={setCustomer:l,setTransaction:e=>{m&&m.setTransaction(e)},addCard:e=>{m&&m.addCard(e)},renewCard:e=>{m&&m.renewCard(e)},setStyles:e=>{m&&m.setStyles(e)},setText:e=>{m&&m.setText(e)},setCallbacks:(e,r)=>{m&&m.setCallbacks({onSuccess:e,onError:r})},setMetadata:u,customer:d,sdk:m};return e(o.Provider,{value:C,children:r})},d=()=>{const e=n(o);if(void 0===e)throw new Error("useRebill must be used within a RebillProvider");return e};export{a as RebillProvider,d as useRebill};
//# sourceMappingURL=index.js.map
