import{jsx as e}from"react/jsx-runtime";import{createContext as t,useState as r,useEffect as s,useContext as n}from"react";import*as a from"rebill";const i=t(void 0),d=({children:t,apiKey:n,rebillId:d})=>{const[o,l]=r({}),[u,c]=r({}),[m,p]=r(null);s((()=>{if(n&&d){const e=new a.setSdk(n);p(e)}}),[n,d]),s((()=>{m&&m.setElements(d)}),[m]),s((()=>{m&&function(e){if(!("firstName"in e&&"lastName"in e&&"email"in e&&"phone"in e&&"personalId"in e&&"address"in e))return!1;const t="countryCode"in e.phone&&"areaCode"in e.phone&&"phoneNumber"in e.phone,r="type"in e.personalId&&"value"in e.personalId,s="state"in e.address&&"city"in e.address&&"street"in e.address&&"number"in e.address&&"country"in e.address&&"zipCode"in e.address;return t&&r&&s}(o)&&m.setCustomer(o)}),[o]),s((()=>{m&&u&&m.setMetadata(u)}),[u]);const C={setCustomer:l,setTransaction:e=>{m&&m.setTransaction(e)},addCard:e=>{m&&m.addCard(e)},renewCard:e=>{m&&m.renewCard(e)},setStyles:e=>{m&&m.setStyles(e)},setText:e=>{m&&m.setText(e)},setCallbacks:(e,t,r,s)=>{m&&m.setCallbacks({onSuccess:e,onError:t,onLoading:r,onDisabled:s})},setMetadata:c,submitPaymentWithCard:()=>{m&&m.submitPaymentWithCard()},customer:o,sdk:m};return e(i.Provider,{value:C,children:t})},o=()=>{const e=n(i);if(void 0===e)throw new Error("useRebill must be used within a RebillProvider");return e};export{d as RebillProvider,o as useRebill};
//# sourceMappingURL=index.js.map
